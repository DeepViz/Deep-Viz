"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),HotWords=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.id=Math.random()+"-canvas",t.scaleRatio=2,t.colors=["#FDB933","#D64F44","#00A6AC","#1D953F","#E0861A","#45B97C","#F3715C","#F26522","#7FB80E","#63C5FA"],t.textArray=[],t.Text=function(t,e,o,n,r,i,s,a){this.text=t,this.x=e,this.y=o,this.vx=n,this.vy=r,this.color=i,this.font=s,this.context=a},t.Text.prototype.fillText=function(){this.context.beginPath(),this.context.save(),this.context.fillStyle=this.color,this.context.font=this.font,this.context.fillText(this.text,this.x,this.y),this.context.restore()},t}return _inherits(e,_react2.default.Component),_createClass(e,[{key:"componentDidMount",value:function(){var t=this;this.canvas=document.getElementById(this.id),this.context=this.canvas.getContext("2d");var e=window.getComputedStyle(this.canvas.parentNode),o=Math.floor(window.parseInt(e.width)),n=Math.floor(window.parseInt(e.height));this.canvas.style.width=o+"px",this.canvas.style.height=n+"px",this.props.circleOutline&&(this.canvas.style.borderRadius="50%"),this.canvas.width=o*this.scaleRatio,this.canvas.height=n*this.scaleRatio,this.context.shadowOffsetX=5,this.context.shadowOffsetY=5,this.context.shadowBlur=5,this.context.shadowColor="rgba(0, 0, 0, 0.5)",this.context.textAlign="center",this.context.textBaseline="middle";var r=this.canvas.width/2,i=this.canvas.height/2;this.worlds=this.props.words||[];var s=2*Math.PI/this.worlds.length,a=this.props.speed||3,c=0;this.worlds.forEach(function(e){c+=s;var o=a*Math.cos(c),n=a*Math.sin(c),h=new t.Text(e,r,i,o,n,t.colors[Math.floor(11*Math.random())],Math.floor(30*Math.random()+30)+"px serial",t.context);t.textArray.push(h)});!function e(){t.context=t.canvas.getContext("2d"),t.context.clearRect(0,0,t.canvas.width,t.canvas.height);for(var s=t.textArray.length-1;s>=0;s--){var a=t.textArray[s];(a.x>2*o||a.x<0||a.y>2*n||a.y<0)&&(a.x=r,a.y=i),a.x+=a.vx,a.y+=a.vy,a.fillText()}window.requestAnimationFrame(e)}()}},{key:"render",value:function(){return _react2.default.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},_react2.default.createElement("canvas",{id:this.id},"对不起，您的浏览器不支持canvas"))}}]),e}();exports.default=HotWords;